using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using UnityEngine;
using VRCSDK2;

namespace Nocturnal.exploits
{
    internal static class setiteminhand
    {
        //Legacy Shaders/Particles
        internal static void create<T>() where T : Component
        {
            var height = VRC.Player.prop_Player_0._vrcplayer.field_Private_VRCAvatarManager_0.field_Private_VRCAvatarDescriptor_0.ViewPosition.y /9;
            var handpoz = VRC.Player.prop_Player_0._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.RightHand).position;

            var objectg = GameObject.CreatePrimitive(PrimitiveType.Sphere);
            var rigidbody = objectg.AddComponent<Rigidbody>();
            objectg.AddComponent<VRC_Pickup>().ThrowVelocityBoostScale = 6;
            rigidbody.useGravity = false;
            objectg.transform.localScale = new Vector3(height, height, height);
            objectg.transform.position = handpoz;
            objectg.AddComponent<T>();
            objectg.layer = 13;
            var trailrender = objectg.AddComponent<UnityEngine.TrailRenderer>();
            trailrender.material = new Material(Shader.Find("Standard"));
            trailrender.endWidth = 0.003f;
            trailrender.startWidth = 0.008f;
            trailrender.startColor = Color.red;
            trailrender.endColor = Color.blue;
            trailrender.time = 0.1f;
            objectg.GetComponent<MeshRenderer>().material.color = Color.black;
        }




    }
}
