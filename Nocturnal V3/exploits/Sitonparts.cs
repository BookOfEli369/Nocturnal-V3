using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using UnityEngine;
namespace Nocturnal.Exploits
{
    internal class Sitonparts
    {
        internal static bool _IsSiting = false;
        internal static int _Part = 0;
        //internal static Thread threadsit = new Thread(sitonparts);
        internal static IEnumerator _Sitonparts()
        {


            if (Settings.wrappers.Target.targertuser == null)
            {
                yield break;
            }
            Settings.wrappers.extensions.togglecontroller(!_IsSiting);
            switch (_Part)
            {
                case 0:
                    //Head
                    while (_IsSiting)
                    {
                       VRC.Player.prop_Player_0.transform.position = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.Head).position;
                       yield return null; 
                    }
                    break;
                case 1:
                    //Right Hand
                    while (_IsSiting)
                    {                  
                        VRC.Player.prop_Player_0.transform.position = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.RightIndexProximal).position;
                        yield return null;
                    }
                    break;
                case 2:
                    //Left Hand
                    while (_IsSiting)
                    {            
                        VRC.Player.prop_Player_0.transform.position = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.LeftIndexProximal).position;
                        yield return null;
                    }
                    break;
                case 3:
                    //Right Shoulder
                    while (_IsSiting)
                    {
                        VRC.Player.prop_Player_0.transform.position = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.RightShoulder).position;
                        yield return null;
                    }
                    break;
                case 4:
                    while (_IsSiting)
                    { 
                        VRC.Player.prop_Player_0.transform.position = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.LeftFoot).position;
                        yield return null;
                    }
                    break;
            }
            yield return null;
        }

    }
}
