using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using UnityEngine;
namespace Nocturnal.Exploits
{
    internal class Sitonparts
    {
        internal static bool issiting = false;
        internal static int part = 0;
        //internal static Thread threadsit = new Thread(sitonparts);
        internal static IEnumerator _Sitonparts()
        {


            if (Settings.wrappers.Target.targertuser == null)
            {
                yield break;
            }
            Settings.wrappers.extensions.togglecontroller(!issiting);
            switch (part)
            {
                case 0:
                    //Head
                    var head = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.Head);
                    while (issiting)
                    {

                        VRC.Player.prop_Player_0.transform.position = head.position;
                       yield return null; 
                    }
                    break;
                case 1:
                    //Right Hand
                    var righth = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.RightIndexProximal);
                    while (issiting)
                    {
                    
                        VRC.Player.prop_Player_0.transform.position = righth.position;
                        yield return null;
                    }
                    break;
                case 2:
                    //Left Hand
                    var Left = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.LeftIndexProximal);

                    while (issiting)
                    {
              
                        VRC.Player.prop_Player_0.transform.position = Left.position;
                        yield return null;
                    }
                    break;
                case 3:
                    //Right Shoulder
                    var rights = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.RightShoulder);
                    while (issiting)
                    {
                  
                        VRC.Player.prop_Player_0.transform.position = rights.position;
                        yield return null;
                    }
                    break;
                case 4:
                    //Left Shoulder
                    var Lefts = Settings.wrappers.Target.targertuser._vrcplayer.field_Internal_Animator_0.GetBoneTransform(HumanBodyBones.LeftFoot);
                    while (issiting)
                    {
                       
                        VRC.Player.prop_Player_0.transform.position = Lefts.position;
                        yield return null;
                    }
                    break;
            }
            yield return null;
        }

    }
}
