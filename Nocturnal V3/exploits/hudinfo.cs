using System;
using Nocturnal.Settings;
using UnityEngine;
using System.Collections;
using VRC;
using System.Diagnostics;
namespace Nocturnal.Exploits
{
    internal class Hudinfo
    {

        internal static IEnumerator Playerlistm()
        {
            var getf = Ui.Objects._friendlistmanager;
            Process curentp = Process.GetCurrentProcess();

            while (true)
            {

                if (!Settings.ConfigVars.hudUi)
                {
                    yield return new WaitForSeconds(1.1f);
                    continue;
                }

                int player = PlayerManager.prop_PlayerManager_0.field_Private_List_1_Player_0.Count;
                try
                {
                    Ui.Qm_basic._GUIInfo.text = $"{string.Format("{0:hh:mm:ss tt}", DateTime.Now)}\nLobby: {player}\nF: {getf.field_Private_List_1_IUser_1.Count}/{getf.field_Private_List_1_IUser_0.Count}\nIn: {Hooks.typeofworld}" +
                        $"\nGtime: {curentp.UserProcessorTime.Hours}:{curentp.UserProcessorTime.Minutes}:{curentp.UserProcessorTime.Seconds}";

                }
                catch { }
                yield return new WaitForSeconds(1.1f);

            }


        }
    }
}
