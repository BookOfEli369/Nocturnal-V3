using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using UnityEngine;
using UnityEngine.UI;
using Nocturnal.Settings.wrappers;
namespace Nocturnal.Exploits
{
    internal class Zoom
    {
        private static bool iszoomkey = false;
        private static bool zoombooltoggle = false;
        private static float zoomvalue = 60;

        internal static void _Zoom()
        {
            if (Input.GetKeyDown(KeyCode.Mouse4))
            {
                iszoomkey = false;
                if (iszoomkey == false)
                {
                        var gameobjhud = GameObject.Find("/UserInterface").transform.Find("PlayerDisplay/WorldHudDisplay/MenuMesh").gameObject;
                        gameobjhud.SetActive(false);
                        zoomvalue = 60;
                        zoombooltoggle = true;

                }
            }
            if (zoombooltoggle)
            {
                if (zoomvalue <= 6)
                {
                    zoomvalue = 6;
                    zoombooltoggle = false;
                    Settings.Hooks.cameraeye.fieldOfView = zoomvalue;
                    GameObject.Find("Camera (eye)").transform.Find("StackedCamera : Cam_InternalUI").gameObject.GetComponent<Camera>().fieldOfView = zoomvalue;
                    return;
                }
                zoomvalue -= Time.deltaTime * 200;
                Settings.Hooks.cameraeye.fieldOfView = zoomvalue;
            }
            if (!iszoomkey)
            {

                if (Input.GetKeyUp(KeyCode.Mouse4))
                {

                    zoombooltoggle = false;
                        var gameobjhud = GameObject.Find("/UserInterface").transform.Find("PlayerDisplay/WorldHudDisplay/MenuMesh").gameObject;
                        gameobjhud.SetActive(true);
                        var isperf = 60;
                        GameObject.Find("Camera (eye)").transform.Find("StackedCamera : Cam_InternalUI").gameObject.GetComponent<Camera>().fieldOfView = 60;
                    Settings.Hooks.cameraeye.fieldOfView = isperf;

                        iszoomkey = true;

                }
            }
            }
        }
}
