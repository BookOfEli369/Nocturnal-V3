using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using UnityEngine;
using UnityEngine.UI;
using Nocturnal.Settings.wrappers;
namespace Nocturnal.exploits
{
    internal class zoom
    {
        private static bool iszoomkey = false;
        private static bool zoombooltoggle = false;
        private static float zoomvalue = 60;

        internal static void _zoom()
        {
            if (Input.GetKeyDown(KeyCode.Mouse4))
            {
                iszoomkey = false;
                if (iszoomkey == false)
                {
                 
                        var gameobjhud = GameObject.Find("/UserInterface").transform.Find("PlayerDisplay/WorldHudDisplay/MenuMesh").gameObject;
                        gameobjhud.SetActive(false);
                        zoomvalue = 60;
                        zoombooltoggle = true;

                }
            }
            if (zoombooltoggle)
            {
                var camerag = Settings.wrappers.extensions.camera().GetComponent<Camera>();

                if (zoomvalue <= 6)
                {
                    zoomvalue = 6;
                    zoombooltoggle = false;
                    camerag.fieldOfView = zoomvalue;
                    GameObject.Find("Camera (eye)").transform.Find("StackedCamera : Cam_InternalUI").gameObject.GetComponent<Camera>().fieldOfView = zoomvalue;
                    return;
                }
                zoomvalue -= Time.deltaTime * 200;
                camerag.fieldOfView = zoomvalue;
            }
            if (!iszoomkey)
            {

                if (Input.GetKeyUp(KeyCode.Mouse4))
                {
                    var camerag = Settings.wrappers.extensions.camera().GetComponent<Camera>();

                    zoombooltoggle = false;
                        var gameobjhud = GameObject.Find("/UserInterface").transform.Find("PlayerDisplay/WorldHudDisplay/MenuMesh").gameObject;
                        gameobjhud.SetActive(true);
                        var isperf = 60;
                        GameObject.Find("Camera (eye)").transform.Find("StackedCamera : Cam_InternalUI").gameObject.GetComponent<Camera>().fieldOfView = 60;
                    camerag.fieldOfView = isperf;

                        iszoomkey = true;

                }
            }
            }
        }
}
